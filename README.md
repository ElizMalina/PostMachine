# PostMachine (Интерпретатор Машин Поста)

Проект выполнен в рамках курса "Языки программирования" СПБГУ.

Машина Поста состоит из каретки (или считывающей и записывающей головки) и разбитой на ячейки ленты. 
В нашем случае лента замкнута в кольцо (фиксированное количество ячеек).

Каждая ячейка ленты может находиться в 2 состояниях — быть либо пустой (`0`), либо помеченной меткой (`1`). 

За такт работы машины каретка может сдвинуться на одну позицию влево или вправо, считать, изменить символ в своей текущей позиции.

Работа машины Поста определяется программой, состоящей из конечного числа строк. Строки программы имеют следующий синтаксис:
```
i. command
```
где `i` — номер команды, `command` — действие каретки. Всего для машины Поста существует шесть типов команд:
* `V j` — поставить метку 1, перейти к j-й строке программы;
* `X j` — стереть метку (поставить 0), перейти к j-й строке;
* `L j` — сдвинуться влево, перейти к j-й строке;
* `R j` — сдвинуться вправо, перейти к j-й строке;
* `? j1 j2` — если в ячейке нет метки, то перейти к j1-й строке программы, иначе перейти к j2-й строке;
* `!` — конец программы («стоп»).

В программе могут содержаться комментарии. Комментарии однострочные: от символа `%` до конца строки.

Для работы машины нужно задать программу и её начальное состояние (то есть состояние ленты и позицию каретки). 
Кареткой управляет программа, состоящая из пронумерованных не обязательно упорядоченных строк команд. 

Работа начинается с команды с наименьшим номером.

После запуска программы возможны варианты:
* работа может закончиться невыполнимой командой (переход к несуществующей команде);
* работа может закончиться командой «стоп»;
* работа никогда не закончится (достигнуто максимальное количество тактов работы машины).

Имя файла с программой, имя файла с начальным состоянием и имя выходного файла задаются, соответственно, тремя аргументами командной строки.

Если какая-то строка программы содержит ошибку, то вывести сообщение `Error` в выходной файл (имя файла задается третьим аргументом командной строки).

В файле, имя которого передается в программу в командной строке вторым аргументом, заданы размер ленты, максимальное количество тактов работы машины и входная информация на ленте. 

Входная информация на ленте помещается, начиная с нулевой ячейки. Начальная позиция каретки над нулевой ячейкой. 

Если в ходе работы МП не остановилась за максимально разрешенное количество тактов работы, то остановить машину и вывести в выходной файл (имя файла задается третим аргументом командной строки) сообщение `Not applicable`.
В остальных случаях вывести в файл содержимое ленты, начиная с позиции, на которой остановилась МП, и до последней 1 на ленте.
